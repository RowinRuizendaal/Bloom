{"remainingRequest":"/usr/local/lib/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ralfzonneveld/Documents/Repositories/20:21/webdevüßë‚Äçüíª-20:21/Bloom/client/src/views/login/Login.vue?vue&type=style&index=0&id=2529d779&lang=scss&scoped=true&","dependencies":[{"path":"/Users/ralfzonneveld/Documents/Repositories/20:21/webdevüßë‚Äçüíª-20:21/Bloom/client/src/views/login/Login.vue","mtime":1623685068974},{"path":"/usr/local/lib/node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/lib/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/usr/local/lib/node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/ralfzonneveld/Documents/Repositories/20:21/webdevüßë‚Äçüíª-20:21/Bloom/client/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/lib/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/lib/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpAaW1wb3J0ICJAL2NvbXBvbmVudHMvbG9naW4vbG9naW4uc2NzcyI7Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwGA","file":"Login.vue","sourceRoot":"src/views/login","sourcesContent":["<template>\n  <section class=\"login\">\n    <header>\n      <h1>bloom</h1>\n    </header>\n\n    <main>\n      <h2>Welkom terug</h2>\n      <form v-on:submit=\"onSubmit\" method=\"POST\" enctype=\"application/x-www-form-urlencoded\">\n        <fieldset>\n          <legend>\n            <label for=\"emailAddress\">\n              <input\n                type=\"email\"\n                class=\"loginInput\"\n                placeholder=\"E-mailadres\"\n                id=\"emailAddress\"\n                v-model=\"emailAddress\"\n                name=\"emailAddress\"\n                required\n              />\n            </label>\n\n            <label for=\"password\">\n              <input\n                type=\"password\"\n                class=\"loginInput\"\n                placeholder=\"Wachtwoord\"\n                id=\"password\"\n                v-model=\"password\"\n                name=\"password\"\n                required\n              />\n            </label>\n            <router-link to=\"/login\" active-class=\"forgot-password\"\n              >Wachtwoord vergeten</router-link\n            >\n\n            <div>\n              <router-link to=\"/register\" active-class=\"register\"\n                >Ik heb nog geen account</router-link\n              >\n              <Button message=\"inloggen\" v-bind:isSlider=\"false\" />\n            </div>\n          </legend>\n        </fieldset>\n      </form>\n      <ul v-if=\"errors.length\" class=\"error-list\">\n        <Error :message=\"errors[0]\" />\n      </ul>\n    </main>\n  </section>\n</template>\n\n<script>\nimport Button from \"../../components/button/button.vue\";\nimport Error from \"../../components/error/error.vue\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"Login\",\n  components: {\n    Button,\n    Error,\n  },\n  data() {\n    return {\n      emailAddress: \"\",\n      password: \"\",\n      errors: [],\n    };\n  },\n  methods: {\n    async login(e) {\n      let data = {\n        emailAddress: this.emailAddress.toLowerCase(),\n        password: this.password,\n      };\n\n      axios\n        .post(\"/api/login\", data, { headers: { \"Content-type\": \"application/json\" } })\n        .then((response) => {\n          if (response.status === 200) {\n            this.$store.commit(\"updateUser\", response.data);\n            this.$store.state.loggedIn = true;\n            return this.$router.push(\"/themes\");\n          }\n        })\n        .catch((err) => {\n          if (this.errors.length >= 1) {\n            return;\n          }\n          this.errors.push(\"Er is helaas geen account gevonden\");\n        });\n    },\n    onSubmit(e) {\n      e.preventDefault();\n      this.login();\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/components/login/login.scss\";\n</style>\n"]}]}