{"remainingRequest":"/usr/local/lib/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ralfzonneveld/Documents/Repositories/20:21/webdevüßë‚Äçüíª-20:21/Bloom/client/src/views/login/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ralfzonneveld/Documents/Repositories/20:21/webdevüßë‚Äçüíª-20:21/Bloom/client/src/views/login/login.vue","mtime":1623685068974},{"path":"/usr/local/lib/node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/lib/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/usr/local/lib/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/lib/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCdXR0b24gZnJvbSAiLi4vLi4vY29tcG9uZW50cy9idXR0b24vYnV0dG9uLnZ1ZSI7CmltcG9ydCBFcnJvciBmcm9tICIuLi8uLi9jb21wb25lbnRzL2Vycm9yL2Vycm9yLnZ1ZSI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvZ2luIiwKICBjb21wb25lbnRzOiB7CiAgICBCdXR0b24sCiAgICBFcnJvciwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlbWFpbEFkZHJlc3M6ICIiLAogICAgICBwYXNzd29yZDogIiIsCiAgICAgIGVycm9yczogW10sCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgbG9naW4oZSkgewogICAgICBsZXQgZGF0YSA9IHsKICAgICAgICBlbWFpbEFkZHJlc3M6IHRoaXMuZW1haWxBZGRyZXNzLnRvTG93ZXJDYXNlKCksCiAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQsCiAgICAgIH07CgogICAgICBheGlvcwogICAgICAgIC5wb3N0KCIvYXBpL2xvZ2luIiwgZGF0YSwgeyBoZWFkZXJzOiB7ICJDb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIgfSB9KQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgidXBkYXRlVXNlciIsIHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5sb2dnZWRJbiA9IHRydWU7CiAgICAgICAgICAgIHJldHVybiB0aGlzLiRyb3V0ZXIucHVzaCgiL3RoZW1lcyIpOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgIGlmICh0aGlzLmVycm9ycy5sZW5ndGggPj0gMSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCJFciBpcyBoZWxhYXMgZ2VlbiBhY2NvdW50IGdldm9uZGVuIik7CiAgICAgICAgfSk7CiAgICB9LAogICAgb25TdWJtaXQoZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHRoaXMubG9naW4oKTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/views/login","sourcesContent":["<template>\n  <section class=\"login\">\n    <header>\n      <h1>bloom</h1>\n    </header>\n\n    <main>\n      <h2>Welkom terug</h2>\n      <form v-on:submit=\"onSubmit\" method=\"POST\" enctype=\"application/x-www-form-urlencoded\">\n        <fieldset>\n          <legend>\n            <label for=\"emailAddress\">\n              <input\n                type=\"email\"\n                class=\"loginInput\"\n                placeholder=\"E-mailadres\"\n                id=\"emailAddress\"\n                v-model=\"emailAddress\"\n                name=\"emailAddress\"\n                required\n              />\n            </label>\n\n            <label for=\"password\">\n              <input\n                type=\"password\"\n                class=\"loginInput\"\n                placeholder=\"Wachtwoord\"\n                id=\"password\"\n                v-model=\"password\"\n                name=\"password\"\n                required\n              />\n            </label>\n            <router-link to=\"/login\" active-class=\"forgot-password\"\n              >Wachtwoord vergeten</router-link\n            >\n\n            <div>\n              <router-link to=\"/register\" active-class=\"register\"\n                >Ik heb nog geen account</router-link\n              >\n              <Button message=\"inloggen\" v-bind:isSlider=\"false\" />\n            </div>\n          </legend>\n        </fieldset>\n      </form>\n      <ul v-if=\"errors.length\" class=\"error-list\">\n        <Error :message=\"errors[0]\" />\n      </ul>\n    </main>\n  </section>\n</template>\n\n<script>\nimport Button from \"../../components/button/button.vue\";\nimport Error from \"../../components/error/error.vue\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"Login\",\n  components: {\n    Button,\n    Error,\n  },\n  data() {\n    return {\n      emailAddress: \"\",\n      password: \"\",\n      errors: [],\n    };\n  },\n  methods: {\n    async login(e) {\n      let data = {\n        emailAddress: this.emailAddress.toLowerCase(),\n        password: this.password,\n      };\n\n      axios\n        .post(\"/api/login\", data, { headers: { \"Content-type\": \"application/json\" } })\n        .then((response) => {\n          if (response.status === 200) {\n            this.$store.commit(\"updateUser\", response.data);\n            this.$store.state.loggedIn = true;\n            return this.$router.push(\"/themes\");\n          }\n        })\n        .catch((err) => {\n          if (this.errors.length >= 1) {\n            return;\n          }\n          this.errors.push(\"Er is helaas geen account gevonden\");\n        });\n    },\n    onSubmit(e) {\n      e.preventDefault();\n      this.login();\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/components/login/login.scss\";\n</style>\n"]}]}