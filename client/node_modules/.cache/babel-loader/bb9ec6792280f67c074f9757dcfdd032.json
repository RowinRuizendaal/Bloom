{"remainingRequest":"/usr/local/lib/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/usr/local/lib/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!/usr/local/lib/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ralfzonneveld/Documents/Repositories/20:21/webdevüßë‚Äçüíª-20:21/Bloom/client/src/views/login/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ralfzonneveld/Documents/Repositories/20:21/webdevüßë‚Äçüíª-20:21/Bloom/client/src/views/login/Login.vue","mtime":1623685068974},{"path":"/usr/local/lib/node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/lib/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/usr/local/lib/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/lib/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9yYWxmem9ubmV2ZWxkL0RvY3VtZW50cy9SZXBvc2l0b3JpZXMvMjA6MjEvd2ViZGV2XHVEODNFXHVEREQxXHUyMDBEXHVEODNEXHVEQ0JCLTIwOjIxL0Jsb29tL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEJ1dHRvbiBmcm9tICIuLi8uLi9jb21wb25lbnRzL2J1dHRvbi9idXR0b24udnVlIjsKaW1wb3J0IEVycm9yIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvZXJyb3IvZXJyb3IudnVlIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2dpbiIsCiAgY29tcG9uZW50czogewogICAgQnV0dG9uOiBCdXR0b24sCiAgICBFcnJvcjogRXJyb3IKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlbWFpbEFkZHJlc3M6ICIiLAogICAgICBwYXNzd29yZDogIiIsCiAgICAgIGVycm9yczogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICBlbWFpbEFkZHJlc3M6IF90aGlzLmVtYWlsQWRkcmVzcy50b0xvd2VyQ2FzZSgpLAogICAgICAgICAgICAgICAgICBwYXNzd29yZDogX3RoaXMucGFzc3dvcmQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBheGlvcy5wb3N0KCIvYXBpL2xvZ2luIiwgZGF0YSwgewogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgIkNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIgogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCJ1cGRhdGVVc2VyIiwgcmVzcG9uc2UuZGF0YSk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5zdGF0ZS5sb2dnZWRJbiA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRyb3V0ZXIucHVzaCgiL3RoZW1lcyIpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5lcnJvcnMubGVuZ3RoID49IDEpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCJFciBpcyBoZWxhYXMgZ2VlbiBhY2NvdW50IGdldm9uZGVuIik7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdChlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgdGhpcy5sb2dpbigpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA,OAAA,MAAA,MAAA,oCAAA;AACA,OAAA,KAAA,MAAA,kCAAA;AACA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA,MADA;AAEA,IAAA,KAAA,EAAA;AAFA,GAFA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,YAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,MAAA,EAAA;AAHA,KAAA;AAKA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,iBACA,CADA,EACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,IADA,GACA;AACA,kBAAA,YAAA,EAAA,KAAA,CAAA,YAAA,CAAA,WAAA,EADA;AAEA,kBAAA,QAAA,EAAA,KAAA,CAAA;AAFA,iBADA;AAMA,gBAAA,KAAA,CACA,IADA,CACA,YADA,EACA,IADA,EACA;AAAA,kBAAA,OAAA,EAAA;AAAA,oCAAA;AAAA;AAAA,iBADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,sBAAA,QAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,oBAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,YAAA,EAAA,QAAA,CAAA,IAAA;;AACA,oBAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,QAAA,GAAA,IAAA;AACA,2BAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,SAAA,CAAA;AACA;AACA,iBARA,EASA,KATA,CASA,UAAA,GAAA,EAAA;AACA,sBAAA,KAAA,CAAA,MAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA;AACA;;AACA,kBAAA,KAAA,CAAA,MAAA,CAAA,IAAA,CAAA,oCAAA;AACA,iBAdA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAqBA,KAtBA;AAuBA,IAAA,QAvBA,oBAuBA,CAvBA,EAuBA;AACA,MAAA,CAAA,CAAA,cAAA;AACA,WAAA,KAAA;AACA;AA1BA;AAbA,CAAA","sourcesContent":["<template>\n  <section class=\"login\">\n    <header>\n      <h1>bloom</h1>\n    </header>\n\n    <main>\n      <h2>Welkom terug</h2>\n      <form v-on:submit=\"onSubmit\" method=\"POST\" enctype=\"application/x-www-form-urlencoded\">\n        <fieldset>\n          <legend>\n            <label for=\"emailAddress\">\n              <input\n                type=\"email\"\n                class=\"loginInput\"\n                placeholder=\"E-mailadres\"\n                id=\"emailAddress\"\n                v-model=\"emailAddress\"\n                name=\"emailAddress\"\n                required\n              />\n            </label>\n\n            <label for=\"password\">\n              <input\n                type=\"password\"\n                class=\"loginInput\"\n                placeholder=\"Wachtwoord\"\n                id=\"password\"\n                v-model=\"password\"\n                name=\"password\"\n                required\n              />\n            </label>\n            <router-link to=\"/login\" active-class=\"forgot-password\"\n              >Wachtwoord vergeten</router-link\n            >\n\n            <div>\n              <router-link to=\"/register\" active-class=\"register\"\n                >Ik heb nog geen account</router-link\n              >\n              <Button message=\"inloggen\" v-bind:isSlider=\"false\" />\n            </div>\n          </legend>\n        </fieldset>\n      </form>\n      <ul v-if=\"errors.length\" class=\"error-list\">\n        <Error :message=\"errors[0]\" />\n      </ul>\n    </main>\n  </section>\n</template>\n\n<script>\nimport Button from \"../../components/button/button.vue\";\nimport Error from \"../../components/error/error.vue\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"Login\",\n  components: {\n    Button,\n    Error,\n  },\n  data() {\n    return {\n      emailAddress: \"\",\n      password: \"\",\n      errors: [],\n    };\n  },\n  methods: {\n    async login(e) {\n      let data = {\n        emailAddress: this.emailAddress.toLowerCase(),\n        password: this.password,\n      };\n\n      axios\n        .post(\"/api/login\", data, { headers: { \"Content-type\": \"application/json\" } })\n        .then((response) => {\n          if (response.status === 200) {\n            this.$store.commit(\"updateUser\", response.data);\n            this.$store.state.loggedIn = true;\n            return this.$router.push(\"/themes\");\n          }\n        })\n        .catch((err) => {\n          if (this.errors.length >= 1) {\n            return;\n          }\n          this.errors.push(\"Er is helaas geen account gevonden\");\n        });\n    },\n    onSubmit(e) {\n      e.preventDefault();\n      this.login();\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/components/login/login.scss\";\n</style>\n"],"sourceRoot":"src/views/login"}]}